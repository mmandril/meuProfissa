angular.module("md.data.table",["md.table.templates"]),angular.module("md.data.table").directive("mdTableBody",["$mdTableRepeat","$timeout",function(a,b){"use strict";function c(c,d,e,f){var g;c.mdClasses=f.classes,d.parent().attr("md-row-select")&&(c.isSelected=function(a){return-1!==f.selectedItems.indexOf(a)},c.toggleRow=function(a,b){b.stopPropagation(),c.isSelected(a)?f.selectedItems.splice(f.selectedItems.indexOf(a),1):f.selectedItems.push(a)}),f.ready=function(){var e=this;if(!g&&d.parent().attr("md-row-select")){var h=a.parse(d.find("tr").attr("ng-repeat")).items;g=c.$watch(h,function(a,b){a!==b&&f.selectedItems.splice(0)})}this.columns.forEach(function(a,c){a.isNumeric&&e.column(c,function(a){a.style.textAlign="right",e.columns[c].hasOwnProperty("precision")&&b(function(){a.innerHTML=parseInt(a.innerHTML).toFixed(e.columns[c].precision)}),a.attributes.hasOwnProperty("show-unit")&&b(function(){a.innerHTML+=e.columns[c].unit})})})}}function d(b,d){var e=b.find("tr");if(e.attr("ng-repeat")){if(e.attr("ng-repeat")&&b.parent().attr("md-row-select")){var f=a.parse(e.attr("ng-repeat")).item,g=angular.element("<md-checkbox></md-checkbox>");g.attr("aria-label","Select Row"),g.attr("ng-click","toggleRow("+f+", $event)"),g.attr("ng-class","[mdClasses, {'md-checked': isSelected("+f+")}]"),b.find("tr").prepend(angular.element("<td></td>").append(g)),angular.isDefined(d.mdAutoSelect)&&e.attr("ng-click","toggleRow("+f+", $event)"),e.attr("ng-class","{'md-selected': isSelected("+f+")}")}b.find("tr").attr("md-table-repeat","")}return c}return{require:"^mdDataTable",compile:d}}]),angular.module("md.data.table").controller("mdDataTableController",["$attrs","$element","$parse","$scope",function(a,b,c,d){"use strict";var e=this;a.mdRowSelect&&(e.selectedItems=angular.isArray(d.selectedItems)?d.selectedItems:[],angular.isArray(d.selectedItems)||console.warn('md-row-select="'+a.mdRowSelect+'" : '+a.mdRowSelect+" is not defined as an array in your controller, i.e. "+a.mdRowSelect+" = [], two-way data binding will fail.")),e.columns=[],e.classes=[],["md-primary","md-hue-1","md-hue-2","md-hue-3"].forEach(function(a){b.hasClass(a)&&e.classes.push(a)}),a.mdFilter&&(e.filter=d.filter),e.column=function(a,c){angular.forEach(b.find("tbody").find("tr"),function(b){c(b.children[a])})},e.setColumns=function(a){return a.attributes.numeric?void e.columns.push({isNumeric:!0,unit:a.attributes.unit?a.attributes.unit.value:void 0,precision:a.attributes.precision?a.attributes.precision.value:void 0}):e.columns.push({isNumeric:!1})},angular.forEach(b.find("th"),e.setColumns)}]),angular.module("md.data.table").directive("mdDataTable",function(){"use strict";function a(a,b){var c=a.find("thead"),d=a.find("tbody");if(!c.length){if(c=a.find("tbody").eq(0),!c.children().find("th").length)throw new Error("mdDataTable","Expecting <thead></thead> element.");c.replaceWith("<thead>"+c.html()+"</thead>"),c=a.find("thead"),d=a.find("tbody")}if(c.attr("md-table-head",""),d.attr("md-table-body",""),!d.children().attr("ng-repeat")){if(b.hasOwnProperty("mdRowSelect"))return console.warn("Use ngRepeat to enable automatic row selection.");c.attr("md-filter")&&console.warn("Manual sorting may be difficult without ngRepeat.")}}return{restrict:"A",scope:{filter:"=mdFilter",selectedItems:"=mdRowSelect"},compile:a,controller:"mdDataTableController"}}),angular.module("md.data.table").directive("mdTableHead",["$document","$mdTableRepeat",function(a,b){"use strict";function c(b,c,d,e){if(d.mdOrder&&(b.$parent.isActive=function(a){return b.order===a||b.order==="-"+a},b.$parent.orderBy=function(a){b.order=b.order===a?"-"+a:a},b.$parent.getDirection=function(a){return b.$parent.isActive(a)&&"-"===b.order[0]?"down":"up"}),c.parent().attr("md-row-select")&&(b.$parent.allSelected=function(a){return a&&a.length?a.length===e.selectedItems.length:!1},b.$parent.toggleAll=function(a){b.$parent.allSelected(a)?e.selectedItems.splice(0):angular.forEach(a,function(a){-1===e.selectedItems.indexOf(a)&&e.selectedItems.push(a)})}),d.hasOwnProperty("mdTrimColumnNames")){var f=angular.element("<div></div>").css({position:"absolute",fontSize:"12px",fontWeight:"bold",visibility:"hidden"});a.find("body").append(f),angular.forEach(c.find("th"),function(a,b){if(!(0===b||c.parent().attr("md-row-select")&&1===b)){var d=a.querySelector("trim");f.html(d.innerText),d.width=f.prop("clientWidth"),a.addEventListener("mouseenter",function(){var a=this.querySelector("trim"),b=this.querySelector("md-icon")?26:0;a.width>this.clientWidth-b-56&&(a.style.minWidth=Math.min(a.width,this.clientWidth-b-28)+"px",this.firstChild.style.color="rgba(0, 0, 0, 0.87)",this.firstChild.style.overflow="visible")}),a.addEventListener("mouseleave",function(){this.querySelector("trim").style.minWidth="",this.firstChild.style.color="",this.firstChild.style.overflow=""})}}),f.remove()}}function d(a,d){if(angular.forEach(a.find("th"),function(a){if(a.hasAttribute("numeric")&&(a.style.textAlign="right",a.hasAttribute("unit")&&(a.innerHTML+=" ("+a.getAttribute("unit")+")")),d.hasOwnProperty("mdTrimColumnNames")&&(a.innerHTML="<trim>"+a.innerHTML+"</trim>"),d.mdOrder){var b=a.getAttribute("order-by");b||a.setAttribute("order-by",b=a.textContent.toLowerCase()),a.setAttribute("ng-class","{'md-active': isActive('"+b+"')}"),a.setAttribute("ng-click","orderBy('"+b+"')");var c=angular.element("<md-icon></md-icon>");c.attr("md-svg-icon","templates.arrow.html"),c.attr("ng-class","getDirection('"+b+"')"),a.hasAttribute("numeric")?angular.element(a).prepend(c):angular.element(a).append(c),a.innerHTML="<div>"+a.innerHTML+"</div>"}}),d.hasOwnProperty("mdTrimColumnNames")){var e=120*a.find("th").length;a.parent().attr("md-row-select")&&(e+=66),a.parent().css({"min-width":e+"px","table-layout":"fixed"})}if(a.parent().attr("md-row-select")){var f=a.parent().find("tbody").find("tr").attr("ng-repeat");if(f){var g=b.parse(f).items,h=angular.element("<md-checkbox></md-checkbox>");h.attr("aria-label","Select All"),h.attr("ng-click","toggleAll("+g+")"),h.attr("ng-class","[mdClasses, {'md-checked': allSelected("+g+")}]"),a.find("tr").prepend(angular.element("<th></th>").append(h))}}return c}return{require:"^mdDataTable",scope:{order:"=mdOrder"},compile:d}}]),angular.module("md.data.table").directive("mdDataTablePagination",function(){"use strict";return{templateUrl:"templates.md-data-table-pagination.html",scope:{limit:"=mdLimit",page:"=mdPage",rowSelect:"=mdRowSelect",total:"@mdTotal"},link:function(a){a.hasNext=function(){return a.page*a.limit<a.total},a.hasPrevious=function(){return a.page>1},a.next=function(){a.page++},a.min=function(){return(a.page-1)*a.limit+1},a.max=function(){return a.hasNext()?a.page*a.limit:a.total},a.onSelect=function(){for(;a.min()>a.total&&a.hasPrevious();)a.previous()},a.previous=function(){a.page--}}}}),angular.module("md.data.table").directive("mdTableRepeat",function(){"use strict";return{require:"^mdDataTable",link:function(a,b,c,d){a.$last&&d.ready()}}}),angular.module("md.data.table").factory("$mdTableRepeat",function(){"use strict";function a(a){for(this._tokens=a.split(" "),this._iterator=0,this.item=this.current();this.hasNext()&&"in"!==this.getNext();)this.item+=this.current();for(this.items=this.getNext();this.hasNext()&&-1===["|","track"].indexOf(this.getNext());)this.items+=this.current()}function b(b){return c.hasOwnProperty(b)?c[b]:c[b]=new a(b)}var c={};return a.prototype.current=function(){return this._tokens[this._iterator]},a.prototype.getNext=function(){return this._tokens[++this._iterator]},a.prototype.getValue=function(){return this._tokens.join(" ")},a.prototype.hasNext=function(){return this._iterator<this._tokens.length-1},{parse:b}}),angular.module("md.table.templates",["templates.arrow.html","templates.navigate-before.html","templates.navigate-next.html","templates.md-data-table-pagination.html"]),angular.module("templates.arrow.html",[]).run(["$templateCache",function(a){"use strict";a.put("templates.arrow.html",'<svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 18 18"><path d="M3,9 L4.06,10.06 L8.25,5.87 L8.25,15 L9.75,15 L9.75,5.87 L13.94,10.06 L15,9 L9,3 L3,9 L3,9 Z"/></svg>')}]),angular.module("templates.navigate-before.html",[]).run(["$templateCache",function(a){"use strict";a.put("templates.navigate-before.html",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"/></svg>\n')}]),angular.module("templates.navigate-next.html",[]).run(["$templateCache",function(a){"use strict";a.put("templates.navigate-next.html",'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>\n')}]),angular.module("templates.md-data-table-pagination.html",[]).run(["$templateCache",function(a){"use strict";a.put("templates.md-data-table-pagination.html",'<span class="label">Rows per page:</span>\n<md-select ng-model="limit" ng-change="onSelect()" aria-label="Row Count" placeholder="{{rowSelect ? rowSelect[0] : 5}}">\n  <md-option ng-repeat="rows in rowSelect ? rowSelect : [5, 10, 15]" value="{{rows}}">{{rows}}</md-option>\n</md-select>\n<span>{{min()}} - {{max()}} of {{total}}</span>\n<md-button ng-click="previous()" ng-disabled="!hasPrevious()" aria-label="Previous">\n  <md-icon md-svg-icon="templates.navigate-before.html"></md-icon>\n</md-button>\n<md-button ng-click="next()" ng-disabled="!hasNext()" aria-label="Next">\n  <md-icon md-svg-icon="templates.navigate-next.html"></md-icon>\n</md-button>')}]);